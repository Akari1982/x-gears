////////////////////////////////
// func24330
S5 = A0;
S3 = A1; // clut x
S4 = A2; // clut y
S0 = A3; // tx
S1 = A4; // ty
S2 = A5;

A0 = 164;
A1 = 0;
system_memory_allocate;
[V0 + 86] = h(164);

A0 = V0;
A1 = S5; // offset 2dsprite_1 block in field data
A2 = S3; // clut x
A3 = S4; // clut y
A4 = S0; // tx
A5 = S1; // ty
A6 = S2;
func24168;
////////////////////////////////



////////////////////////////////
// func24168
S0 = A0; // struct
S2 = A1; // offset 2dsprite_1 block in field data
S5 = A2; // clut x
S6 = A3; // clut y
S3 = A4; // tx
S4 = A5; // ty
func23680;

A0 = S0;
func23814;

A0 = S0;
A1 = 1000;
func21e60;

A0 = fffe1fff;
800241C4	lw     v1, $003c(s0)
800241C8	addiu  v0, zero, $fffc (=-$4)
800241CC	and    v1, v1, v0
800241D0	lw     v0, $0040(s0)
S1 = S2;
800241D8	and    v0, v0, a0
800241DC	sw     v0, $0040(s0)
800241E0	lui    v0, $8006
800241E4	lbu    v0, $884d(v0)
800241E8	ori    v1, v1, $0001
800241F0	sw     v1, $003c(s0)
if( V0 != 0 )
{
    800241F4	addiu  v1, zero, $fffe (=-$2)
    800241F8	lw     v0, $00a8(s0)
    800241FC	lw     a0, $007c(s0)
    80024200	and    v0, v0, v1
    80024204	sw     v0, $00a8(s0)
    80024208	sw     zero, $0008(a0)
    8002420C	lw     v0, $007c(s0)
    80024214	sh     zero, $000c(v0)
}
else
{
    80024218	lw     v0, $00a8(s0)
    8002421C	lw     v1, $007c(s0)
    80024220	ori    v0, v0, $0001
    80024224	sw     v0, $00a8(s0)
    80024228	sw     zero, $0018(v1)
}

A0 = ff0fffff;
A1 = fff0ffff;
80024238	lw     v0, $003c(s0)
8002423C	lw     v1, $0048(gp)
80024244	sw     s0, $006c(s0)
80024248	and    v0, v0, a0
8002424C	andi   v1, v1, $000f
80024250	sll    a0, v1, $14
80024254	or     v0, v0, a0
80024258	and    v0, v0, a1
8002425C	sll    v1, v1, $10
80024260	or     v0, v0, v1
80024264	sw     v0, $003c(s0)

A0 = S1 + w[S1 + 8];
V0 = (hu[A0] >> 9) & 3f;

A0 = V0 * 18;
A1 = 0;
system_memory_allocate;
V1 = w[S0 + 20];
[V1 + 2c] = w(V0);
[V1 + 30] = w(V0);

V0 = w[S0 + 24];
[V0 + 4] = h(S3); // tx
[V0 + 6] = h(S4); // ty
[V0 + 8] = h(S5); // clut x
[V0 + a] = h(S6); // clut y

A0 = S0;
A1 = S2;
[S0 + 48] = w(A1);
func22124;

V0 = w[S0 + 24];
V1 = w[V0 + 10];
// 800242e0 : LHU     8012ee58 (v0), 0000 (80112820 (v1)) [80112820]
[S0 + 60] = w(V1 + ((hu[V1 + 0] & 3f) + 1) * 2);

A0 = S0;
A1 = 0;
func243e4;

return S0;
////////////////////////////////



////////////////////////////////
// func23814
8002381C	addu   s0, a0, zero
80023820	addiu  a0, s0, $00b4
8002382C	sw     a0, $0020(s0)
800237B0	sh     zero, $0000(a0)
800237B4	sh     zero, $0002(a0)
800237B8	sh     zero, $0004(a0)
800237C0	sw     zero, $002c(a0)
80023830	lw     v1, $0020(s0)
80023834	addiu  v0, s0, $00f4
80023838	sw     v0, $007c(s0)
8002383C	addiu  v0, s0, $0124
80023840	sw     v0, $0034(v1)
80023844	lw     v1, $0020(s0)
80023848	addiu  v0, s0, $0110
8002384C	sw     v0, $0024(s0)
80023850	sw     zero, $0038(v1)
////////////////////////////////



////////////////////////////////
// func21e60
V1 = w[A0 + 20];
if( V1 != 0 )
{
    [V1 + 6] = h(A1);
    [V1 + 8] = h(A1);
    [V1 + a] = h(A1);

    [A0 + 2c] = h(A1);
    [A0 + 3c] = w(w[A0 + 3c] | 10000000);
}
////////////////////////////////



////////////////////////////////
// func23680
T2 = A0; // struct

A2 = ff0fffff;
A0 = feffffff;
A3 = fff0ffff;
T0 = fffe1fff;
T1 = fff1ffff;
V1 = ffe001ff;

[T2 + ac] = w(0);
[T2 + af] = b(0);

A1 = w[T2 + ac];

[T2 + 3c] = w(0);
[T2 + 2b] = b(2d);
[T2 + a8] = w(0);
[T2 + b0] = w(0);
[T2 + b0] = b(0);

V0 = w[80058810 + 28];

800236E0	sw     zero, $0040(t2)
800236E4	sh     zero, $003a(t2)
800236E8	sh     zero, $0030(t2)
800236EC	sh     zero, $0032(t2)
800236F0	sh     zero, $0034(t2)
800236F4	and    a1, a1, v1
800236F8	addiu  v0, v0, $0001
800236FC	sll    v1, v0, $0e
80023700	mult   v0, v1
80023704	lui    v0, $0002
80023708	or     a1, a1, v0
8002370C	lw     v0, $003c(t2)
V1 = fffffffb;
80023714	sw     a1, $00ac(t2)
80023718	and    v0, v0, v1
V1 = fffffff7;
80023720	and    v0, v0, v1
V1 = ffffffef;
80023728	and    v0, v0, v1
8002372C	and    v0, v0, a2
80023730	and    v0, v0, a0
80023734	mflo   a0
80023738	lh     v1, $0082(t2)
8002373C	and    v0, v0, a3
80023740	mult   a0, v1
80023744	sw     v0, $003c(t2)
80023748	lw     v0, $0040(t2)
V1 = ffffff03;
80023750	and    v0, v0, v1
V1 = ffffe0ff;
80023758	and    v0, v0, v1
8002375C	lw     v1, $00a8(t2)
80023760	and    v0, v0, t0
80023764	sw     v0, $0040(t2)
80023768	and    v1, v1, t1
8002376C	mflo   v0
80023774	sw     v1, $00a8(t2)
if( V0 < 0 )
{
    V0 = V0 + fff;
}

8002377C	sra    v0, v0, $0c
80023780	sw     v0, $001c(t2)
80023784	ori    v0, zero, $0010
80023788	sw     zero, $0064(t2)
8002378C	sw     zero, $0070(t2)
80023790	sw     zero, $0044(t2)
80023794	sw     zero, $0068(t2)
80023798	sh     zero, $0080(t2)
8002379C	sb     v0, $008c(t2)
800237A0	sh     zero, $0084(t2)
800237A4	sw     zero, $006c(t2)
800237AC	sw     zero, $0050(t2)
////////////////////////////////



////////////////////////////////
// func22124
8002212C	addu   s1, a0, zero
80022134	addu   s2, a1, zero
80022140	lw     s0, $0024(s1)
80022144	beq    s2, zero, L221fc [$800221fc]
80022148	nop
8002214C	lw     v0, $0044(s1)
80022150	nop
80022154	beq    s2, v0, L221a8 [$800221a8]
80022158	addu   a0, s0, zero
8002215C	lw     v0, $003c(s1)
80022160	nop
80022164	srl    v0, v0, $14
80022168	andi   v0, v0, $000f
8002216C	sw     v0, $0010(sp)
80022170	lhu    v0, $0004(s0)
80022174	lhu    v1, $0008(s0)
80022178	lhu    a2, $0006(s0)
8002217C	lhu    a3, $000a(s0)
80022180	sll    a2, a2, $10
80022184	sll    a3, a3, $10
80022188	or     a2, v0, a2
8002218C	jal    func22084 [$80022084]
80022190	or     a3, v1, a3
80022194	lw     v0, $003c(s1)
80022198	lui    v1, $4000
8002219C	sw     s2, $0044(s1)
800221A0	or     v0, v0, v1
800221A4	sw     v0, $003c(s1)

L221a8:	; 800221A8
800221A8	lui    v0, $8006
800221AC	lbu    v0, $884d(v0)
800221B0	nop
800221B4	beq    v0, zero, L221fc [$800221fc]
800221B8	nop
800221BC	lw     a0, $0000(s0)
800221C0	jal    func1ecd8 [$8001ecd8]
800221C4	nop
800221C8	bne    v0, zero, L221e0 [$800221e0]
800221CC	ori    v0, zero, $0100
800221D0	sh     v0, $0006(s0)
800221D4	ori    v0, zero, $0300
800221D8	j      L221fc [$800221fc]
800221DC	sh     v0, $0004(s0)

L221e0:	; 800221E0
800221E0	lw     v0, $007c(s1)
800221E4	nop
800221E8	lwl    v1, $0011(v0)
800221EC	lwr    v1, $000e(v0)
800221F0	nop
800221F4	swl    v1, $0007(s0)
800221F8	swr    v1, $0004(s0)

L221fc:	; 800221FC
////////////////////////////////



////////////////////////////////
// func243e4
S0 = A0;
S1 = A1;
800243F8	lw     v1, $0048(s0)
80024400	bne    v1, zero, L24410 [$80024410]
800243FC	nop
8002440C	sw     zero, $0064(s0)
return;

L24410:	; 80024410
80024410	lw     v0, $0044(s0)
80024414	nop
80024418	bne    v0, v1, L2442c [$8002442c]
8002441C	addiu  v1, zero, $fbff (=-$401)
80024420	lw     v0, $00b0(s0)
80024424	j      L24438 [$80024438]
80024428	and    v0, v0, v1

L2442c:	; 8002442C
8002442C	lw     v0, $00b0(s0)
80024430	nop
80024434	ori    v0, v0, $0400

L24438:	; 80024438
80024438	bgez   s1, L24498 [$80024498]
8002443C	sw     v0, $00b0(s0)
80024440	lw     a1, $004c(s0)
80024448	addu   a0, s0, zero
func22124;

8002444C	lui    v0, $8006
80024450	lbu    v0, $884d(v0)
80024454	nop
80024458	beq    v0, zero, L244d8 [$800244d8]
8002445C	nop
80024460	lw     v0, $0024(s0)
80024464	nop
80024468	lw     a0, $0000(v0)
8002446C	jal    func1ecd8 [$8001ecd8]
80024470	nop
80024474	bne    v0, zero, L244d8 [$800244d8]
80024478	ori    v0, zero, $0100
8002447C	lw     v1, $0024(s0)
80024480	nop
80024484	sh     v0, $0006(v1)
80024488	lw     v1, $0024(s0)
8002448C	ori    v0, zero, $0300
80024490	j      L244d8 [$800244d8]
80024494	sh     v0, $0004(v1)

L24498:	; 80024498
80024498	lw     a1, $0048(s0)
800244A0	addu   a0, s0, zero
func22124;

800244A4	lui    v0, $8006
800244A8	lbu    v0, $884d(v0)
800244AC	nop
800244B0	beq    v0, zero, L244d8 [$800244d8]
800244B4	nop
800244B8	lw     v1, $0024(s0)
800244BC	lw     v0, $007c(s0)
800244C0	nop
800244C4	lwl    a0, $0011(v0)
800244C8	lwr    a0, $000e(v0)
800244CC	nop
800244D0	swl    a0, $0007(v1)
800244D4	swr    a0, $0004(v1)

L244d8:	; 800244D8
800244DC	sb     s1, $00af(s0)
800244D8	bgez   s1, L244e4 [$800244e4]

800244E0	nor    s1, zero, s1

L244e4:	; 800244E4
[S0 + 40] = w(w[S0 + 40] | 00100000);

A0 = S0;
V0 = w[S0 + 24];
A3 = w[V0 + 10];

// 80024500 : LHU     8011280c (a1), 0002 (80112820 (v1)) [80112822]
A1 = A3 + hu[A3 + 2 + S1 * 2];
[S0 + 58] = w(A1);
func233b8;

A0 = S0;
A1 = h[S0 + 80];
func22218;
////////////////////////////////



////////////////////////////////
// func233b8
S0 = A0;
S1 = A1;

[S0 + 58] = w(S1);

// 800233dc : LHU     00100000 (v0), 0002 (80112828 (s1)) [8011282a]
[S0 + 64] = w(S1 + 2 + hu[S1 + 2]);

// 800233f0 : LHU     80112884 (v0), 0000 (80112828 (s1)) [80112828]
V0 = (hu[S1 + 0] & 0003) << 14;
[S0 + a8] = w((w[S0 + a8] & ffcfffff) | V0);

// 80023408 : LHU     00200000 (v0), 0004 (80112828 (s1)) [8011282c]
[S0 + 54] = w(S1 + 4 + hu[S1 + 4]);

// 8002341c : LBU     80112864 (v0), 0000 (80112828 (s1)) [80112828]
8002341C	lbu    v0, $0000(s1)
80023420	nop
80023424	srl    a0, v0, $02
80023428	andi   v0, a0, $0020
if( V0 != 0 )
{
    80023430	addiu  v0, zero, $ffc0 (=-$40)
    80023434	or     a0, a0, v0
}

80023438	lui    v0, $8006
8002343C	lw     v0, $8838(v0)
80023440	nop
80023444	addiu  v0, v0, $0001
80023448	mult   v0, v0
8002344C	mflo   v1
80023450	lh     v0, $0082(s0)
80023454	nop
80023458	mult   v1, v0
8002345C	sll    v1, a0, $0a
80023468	sw     v1, $001c(s0)

80023460	mflo   v0
80023464	bgez   v0, L23470 [$80023470]

8002346C	addiu  v0, v0, $0fff

L23470:	; 80023470
80023470	sra    v0, v0, $0c
80023474	mult   v0, v1
80023478	lui    v0, $0001
8002347C	lw     v1, $00ac(s0)
80023480	mflo   a0
80023484	srl    v1, v1, $09
80023488	andi   v1, v1, $0fff
8002348C	div    v0, v1
80023490	mflo   v0
80023494	nop
80023498	nop
8002349C	mult   v0, v0
800234A0	mflo   v0
800234A4	bgez   v0, L234b0 [$800234b0]
800234A8	sw     a0, $001c(s0)
800234AC	addiu  v0, v0, $00ff

L234b0:	; 800234B0
800234B0	sra    v0, v0, $08
800234B4	mult   v0, a0
800234B8	mflo   v0
800234BC	bgez   v0, L234c8 [$800234c8]
800234C0	sw     v0, $001c(s0)
800234C4	addiu  v0, v0, $00ff

L234c8:	; 800234C8
800234C8	sra    v0, v0, $08
800234CC	sw     v0, $001c(s0)

// 800234d0 : LHU     00020000 (v0), 0000 (80112828 (s1)) [80112828]
800234D0	lhu    v0, $0000(s1)
800234D4	nop
800234D8	srl    v0, v0, $0b
800234DC	andi   v0, v0, $0001
800234E0	bne    v0, zero, L234f8 [$800234f8]
800234E4	nop
800234E8	sw     zero, $0014(s0)
800234EC	sw     zero, $0010(s0)
800234F0	sw     zero, $000c(s0)
800234F4	sw     zero, $0018(s0)

L234f8:	; 800234F8
800234F8	lw     v1, $0020(s0)
800234FC	nop
80023500	beq    v1, zero, L235e4 [$800235e4]
80023504	lui    a1, $f03f

// 80023508 : LHU     00000000 (v0), 0000 (80112828 (s1)) [80112828]
80023508	lhu    v0, $0000(s1)
8002350C	nop
80023510	srl    v0, v0, $0c
80023514	andi   v0, v0, $0001
80023518	bne    v0, zero, L23530 [$80023530]
8002351C	addu   a0, s0, zero
80023520	sh     zero, $0004(v1)
80023524	sh     zero, $0000(v1)
80023528	jal    func21eec [$80021eec]
8002352C	sh     zero, $0002(v1)

L23530:	; 80023530
// 80023530 : LHU     00000000 (v0), 0000 (80112828 (s1)) [80112828]
80023530	lhu    v0, $0000(s1)
80023534	nop
80023538	srl    v0, v0, $0d
8002353C	andi   v0, v0, $0001
80023540	bne    v0, zero, L2356c [$8002356c]
80023544	nop
80023548	lui    v0, $8006
8002354C	lbu    v0, $884d(v0)
80023550	nop
80023554	beq    v0, zero, L23588 [$80023588]
80023558	nop
8002355C	lui    a1, $8006
80023560	lw     a1, $8848(a1)
80023564	jal    func21e60 [$80021e60]
80023568	addu   a0, s0, zero

L2356c:	; 8002356C
8002356C	lui    v0, $8006
80023570	lbu    v0, $884d(v0)
80023574	nop
80023578	beq    v0, zero, L23588 [$80023588]
8002357C	nop
80023580	jal    func21eec [$80021eec]
80023584	addu   a0, s0, zero

L23588:	; 80023588
80023588	lw     v0, $003c(s0)
8002358C	ori    v1, zero, $0001
80023590	andi   v0, v0, $0003
80023594	bne    v0, v1, L235e4 [$800235e4]
80023598	lui    a1, $f03f
8002359C	lw     v0, $0020(s0)
800235A0	nop
800235A4	sb     zero, $003d(v0)
800235A8	sb     zero, $003c(v0)
800235AC	lw     v0, $0040(s0)
800235B0	lui    v1, $0010
800235B4	and    v0, v0, v1
800235B8	bne    v0, zero, L235e8 [$800235e8]
800235BC	ori    a1, a1, $ffff
800235C0	lw     v0, $0020(s0)
800235C4	nop
800235C8	lw     v0, $0034(v0)
800235CC	nop
800235D0	beq    v0, zero, L235e4 [$800235e4]
800235D4	lui    a1, $f03f
800235D8	jal    func2332c [$8002332c]
800235DC	addu   a0, s0, zero
800235E0	lui    a1, $f03f

L235e4:	; 800235E4
800235E4	ori    a1, a1, $ffff

L235e8:	; 800235E8
800235E8	lui    a0, $cfff
800235EC	ori    a0, a0, $ffff
800235F0	lui    a2, $0001
800235F4	ori    a2, a2, $f800
800235F8	ori    v0, zero, $0010
800235FC	sb     v0, $008c(s0)
80023600	lw     v0, $00a8(s0)
80023604	addiu  v1, zero, $f801 (=-$7ff)
80023608	sh     zero, $0030(s0)
8002360C	and    v0, v0, v1
80023610	sw     v0, $00a8(s0)
80023614	lw     v0, $00a8(s0)
80023618	ori    v1, zero, $0001
8002361C	sh     v1, $009e(s0)
80023620	lui    v1, $2000
80023624	and    v0, v0, a1
80023628	and    v0, v0, a0
8002362C	or     v0, v0, v1
80023630	lw     v1, $007c(s0)
80023634	or     v0, v0, a2
80023638	beq    v1, zero, L23668 [$80023668]
8002363C	sw     v0, $00a8(s0)
80023640	lw     v0, $00a8(s0)
80023644	nop
80023648	andi   v0, v0, $0001
8002364C	beq    v0, zero, L23668 [$80023668]
80023650	nop
80023654	sw     zero, $0004(v1)
80023658	sw     zero, $0000(v1)
8002365C	lw     v0, $007c(s0)
80023660	nop
80023664	sh     zero, $000c(v0)

L23668:	; 80023668
////////////////////////////////
